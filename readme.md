# HDR Blocker for Small Images

A lightweight Chrome extension to disable the HDR effect on small images.

## Problem
Some monitors automatically enable HDR mode when HDR content is detected. While this is great for photos and videos, it can make small, everyday images (like icons, logos, and thumbnails) uncomfortably bright. This extension solves that by applying a simple CSS filter to neutralize the HDR effect on images smaller than 200x200 pixels.

## Features
- Automatically disables HDR for images with rendered dimensions under 200x200px.
- Does not affect larger images or videos.
- Works on all websites.
- Extremely lightweight and fast, running before images even render to prevent flickering.

## How It Works
The extension injects a content script into every webpage. This script observes the page for `<img>` tags and applies the CSS style `filter: contrast(100%) saturate(100%);` to any image that is rendered smaller than the defined size threshold.

## Local Installation
1. Download the source code files.
2. Open Chrome and navigate to `chrome://extensions`.
3. Enable "Developer mode" using the toggle in the top-right corner.
4. Click the "Load unpacked" button in the top-left corner.
5. Select the directory containing the downloaded files.

The extension is now installed and active.

---

# 小图片 HDR 禁用插件

一个轻量级的 Chrome 浏览器扩展，用于禁用小尺寸图片的 HDR 显示效果，防止一些人设置的过曝 HDR 头像造成的视觉困扰。

## 问题背景
部分显示器在检测到 HDR 内容时会自动开启 HDR 模式。这对于观看照片和视频来说是很好的体验，但对于网页上的小图片（如图标、Logo、缩略图等），这种效果可能会导致其亮度过高，非常刺眼。本插件通过对小于 200x200 像素的图片应用一层简单的 CSS 滤镜，来解决这个问题。

## 功能特性
- 自动为渲染尺寸小于 200x200px 的图片禁用 HDR。
- 不干涉大图片或视频的正常 HDR 显示。
- 在所有网站上生效。
- 极致轻量和高效，在图片渲染前执行，避免闪烁。

## 实现原理
此扩展会向每个网页注入一个内容脚本（`content.js`）。该脚本会监听页面中出现的 `<img>` 标签，并对任何渲染尺寸小于阈值的图片应用 `filter: contrast(100%) saturate(100%);` 的 CSS 样式。

## 本地安装
1. 下载项目源代码文件。
2. 打开 Chrome 浏览器，访问 `chrome://extensions`。
3. 在页面右上角，打开“开发者模式”开关。
4. 点击左上角的“加载已解压的扩展程序”按钮。
5. 在弹出的文件选择框中，选中包含代码文件的文件夹。

插件此时已安装并开始运行。

## Prompt

This plugin was generated by gemini-CLI v0.1.13. The following is the full prompt (Chinese) used:

生成此插件使用的 gemini-CLI v0.1.13，以下为使用的全部 prompt：


```
当前目录是一个空目录，请你帮我开发一个 Chrome 插件，实现 HDR 图片禁用功能。

功能：
- 禁用小图片的 HDR 显示功能
- 定义：在浏览器上渲染尺寸低于 200px x 200px 的图片即为小图片
- 不干涉大图片或视频的 HDR 显示

原理：
- 禁用 HDR 可以通过为图片添加 CSS img {filter: contrast(100%) saturate(100%);} 来实现

你需要以最小代码添加可以在本地 Chrome 浏览器测试的插件，无需其他额外内容。
```

```
运行有个问题，图片似乎会先以 HDR 加载，等待 1s 左右网页加载完毕后再被处理，请改进 
```

```
非常好，请帮我撰写英、中文 readme.md，稍后我会手工发布到 github，同时完善其格式，使得其满足开源项目要求
```

